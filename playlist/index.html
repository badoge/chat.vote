<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns#" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <title>chat.vote Playlist</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="chat.vote Playlist" />
    <meta name="keywords" content="twitch, chat, poll, chatvote, chat.vote" />
    <meta property="og:title" content="chat.vote Playlist" />
    <meta property="og:site_name" content="chat.vote Playlist" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://chat.vote/playlist/" />
    <meta property="og:image" content="https://chat.vote/pics/ogimage.png" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:description" content="chat.vote Playlist" />

    <link rel="apple-touch-icon" sizes="152x152" href="/pics/icon/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/pics/icon/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/pics/icon/favicon-16x16.png" />
    <link rel="manifest" href="/pics/icon/site.webmanifest" />
    <link rel="mask-icon" href="/pics/icon/safari-pinned-tab.svg" color="#ffd100" />
    <link rel="shortcut icon" href="/pics/icon/favicon.ico" />
    <meta name="msapplication-TileColor" content="#2b5797" />
    <meta name="msapplication-config" content="/pics/icon/browserconfig.xml" />
    <meta name="theme-color" content="#ffffff" />

    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/icons.css" />
    <link rel="stylesheet" href="/css/common.min.css" />
    <link rel="stylesheet" href="/playlist/playlist.min.css" />
  </head>

  <body>
    <noscript><div class="alert alert-danger" role="alert">WARNING! JavaScript is disabled. This site will not work properly without it.</div></noscript>

    <div class="modal fade" id="dankUpdateModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Hello :)</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="modal-body">
              It looks like you have old requests in your playlist, A recent update (9/5/2025) had many changes under the hood that made old requests incompatible. Old requests should still
              work but their info won't show up on the playlist. These changes also affected the history and ban lists.<br />sorry for any inconvenience :)
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">OK</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="loginExpiredModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Login expired</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="row justify-content-center">
              Renew login:<br />
              <button type="button" data-bs-dismiss="modal" onclick="login()" class="btn btn-twitch"><span class="twitch-icon"></span>Sign in with Twitch</button>
              <br /><small class="text-body-secondary">Logins expire after 2 months.<br />Or after you change your password.</small>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-danger"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-title="Will reset everything so you can login again."
              data-bs-dismiss="modal"
              onclick="resetSettings(true)"
            >
              Reset
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="resetSettingsModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Are you sure?</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>All settings will be reset and the page will reload</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" data-bs-dismiss="modal" onclick="resetSettings()">Reset</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="clearHistoryModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Are you sure?</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>All videos/songs will be removed from the history</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" data-bs-dismiss="modal" onclick="clearHistory()"><i class="material-icons notranslate">delete_forever</i>Clear</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal modal-lg fade" id="platformsInfoModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Platform support details</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th scope="col">Platform</th>
                  <th scope="col">Autoplay</th>
                  <th scope="col">Timestamps<sup>[1]</sup></th>
                  <th scope="col">Duration filters</th>
                  <th scope="col">Volume controls</th>
                  <th scope="col">Moderated platform<sup>[2]</sup></th>
                  <th scope="col">Search Command<sup>[3]</sup></th>
                  <th scope="col">View count filters</th>
                </tr>
              </thead>
              <tbody class="table-group-divider">
                <tr>
                  <th scope="row">YouTube</th>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                </tr>
                <tr>
                  <th scope="row">Vimeo</th>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                </tr>
                <tr>
                  <th scope="row">Twitch</th>
                  <td>✔<sup>[4]</sup></td>
                  <td>✔<sup>[4]</sup></td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>❌</td>
                  <td>✔</td>
                </tr>
                <tr>
                  <th scope="row">Spotify<sup>[5]</sup></th>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>❌</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>❌</td>
                </tr>
                <tr>
                  <th scope="row">Streamable</th>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>❌</td>
                  <td>❌</td>
                  <td>❌</td>
                </tr>
                <tr>
                  <th scope="row">i.supa.codes</th>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>❌</td>
                  <td>❌</td>
                  <td>❌</td>
                </tr>
                <tr>
                  <th scope="row">TikTok</th>
                  <td>✔</td>
                  <td>✔</td>
                  <td>❌</td>
                  <td>❌</td>
                  <td>✔</td>
                  <td>❌</td>
                  <td>❌</td>
                </tr>
              </tbody>
            </table>
            <div class="text-body-secondary">
              [1]: Viewers can request something at a specific time by requesting a link with a timestamp parameter or adding "start=" at the end of the request. Example:
              <kbd>!request [link] start=1:30</kbd> will make the video start from 1 minute 30 seconds<br />
              [2]: Platforms that are marked as moderated might have some automated filters to remove unsafe content. Platforms like Streamable and i.supa.codes don't require an account, so
              anyone can upload unsafe videos quickly then request them. This however does not mean that the other platforms will always have safe content.<br />
              [3]: You can search some platforms directly using the request command. Example: <kbd>!request spotify camellia ghost</kbd> <br />
              [4]: Twitch clips autoplay and timestamps might break sometimes, especially if you keep the clips in the playlist for more than a day.<br />
              [5]: You need to login to Spotify on this browser to listen to full songs instead of previews. You might also need to enable 3rd party cookies.
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">OK</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="banlistModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><i class="material-icons notranslate">gavel</i>Ban list</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body p-0">
            <ul class="nav nav-tabs bg-body-tertiary" role="tablist">
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link active"
                  id="usersTab"
                  data-bs-toggle="tab"
                  data-bs-target="#users-tab-pane"
                  type="button"
                  role="tab"
                  aria-controls="users-tab-pane"
                  aria-selected="true"
                >
                  <i class="material-icons notranslate">people</i>Users
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="itemsTab" data-bs-toggle="tab" data-bs-target="#items-tab-pane" type="button" role="tab" aria-controls="items-tab-pane" aria-selected="false">
                  <i class="material-icons notranslate">play_arrow</i>Videos/Songs
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="channelsTab"
                  data-bs-toggle="tab"
                  data-bs-target="#channels-tab-pane"
                  type="button"
                  role="tab"
                  aria-controls="channels-tab-pane"
                  aria-selected="false"
                >
                  <i class="material-icons notranslate">live_tv</i>Channels/Artists
                </button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="users-tab-pane" role="tabpanel" aria-labelledby="usersTab" tabindex="0">
                <button class="btn btn-outline-warning m-2" type="button" onclick="unbanAllUsers()">
                  <i class="material-icons notranslate">delete_forever</i>Unban all (<span id="bannedUserCount">0 Users</span>)
                </button>

                <div id="bannedUsersListDiv">
                  <ul class="list-group" id="bannedUsersList"></ul>
                </div>
              </div>
              <div class="tab-pane fade" id="items-tab-pane" role="tabpanel" aria-labelledby="itemsTab" tabindex="0">
                <button class="btn btn-outline-warning m-2" type="button" onclick="unbanAllItems()">
                  <i class="material-icons notranslate">delete_forever</i>Unban all (<span id="bannedItemCount">0 Videos/Songs</span>)
                </button>

                <div id="bannedItemsListDiv">
                  <ul class="list-group" id="bannedItemsList"></ul>
                </div>
              </div>
              <div class="tab-pane fade" id="channels-tab-pane" role="tabpanel" aria-labelledby="channelsTab" tabindex="0">
                <button class="btn btn-outline-warning m-2" type="button" onclick="unbanAllChannels()">
                  <i class="material-icons notranslate">delete_forever</i>Unban all (<span id="bannedChannelCount">0 Channels/Artists</span>)
                </button>

                <div id="bannedChannelsListDiv">
                  <ul class="list-group" id="bannedChannelsList"></ul>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div id="voteSkipDiv" class="bg-body-tertiary" style="display: none">
      <small class="text-body-secondary">
        Vote skip using <span id="voteSkipHint"><strong>!voteskip</strong> or <strong>!vs</strong></span>
      </small>
      <br />
      <span id="voteSkipVotes">100 votes needed to skip</span>
    </div>

    <div class="offcanvas offcanvas-start" tabindex="-1" id="settingsOffcanvas" aria-labelledby="settingsOffcanvasLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="settingsOffcanvasLabel"><i class="material-icons notranslate">settings</i>Settings</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <div class="card mb-3">
          <div class="card-header">
            <span class="align-middle"><i class="material-icons notranslate">checklist</i>Enabled Platforms</span>
            <button type="button" class="btn btn-sm btn-primary float-end" data-bs-toggle="modal" data-bs-target="#platformsInfoModal">Platform support details</button>
          </div>
          <div class="card-body">
            <div class="container-fluid">
              <div class="row">
                <div class="col-xl-4">
                  <h6>Spotify</h6>

                  <div class="form-check form-switch mb-3">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowSpotifySongs" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowSpotifySongs">Songs</label>
                  </div>
                  <h6>Streamable</h6>
                  <div class="form-check form-switch mb-3">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowStreamable" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowStreamable">Videos</label>
                  </div>
                  <h6 class="d-inline">i.supa.codes</h6>
                  <i
                    class="material-icons notranslate cursor-pointer d-inline"
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    data-bs-title="i.supa.codes file uploader. Includes gachi.gay, kappa.lol, and femboy.beauty"
                    >help_outline
                  </i>
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowSupaAudio" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowSupaAudio">Audio files</label>
                  </div>
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowSupaVideo" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowSupaVideo">Video files</label>
                  </div>
                </div>
                <div class="col-xl-4">
                  <h6>Twitch</h6>
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowTwitchClips" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowTwitchClips">Clips</label>
                  </div>
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowTwitchStreams" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowTwitchStreams">Live Streams</label>
                  </div>
                  <div class="form-check form-switch mb-3">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowTwitchVODs" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowTwitchVODs">VODs</label>
                  </div>

                  <h6>TikTok</h6>
                  <div class="form-check form-switch mb-3">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowTiktokVideos" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowTiktokVideos">Videos</label>
                  </div>
                </div>
                <div class="col-xl-4">
                  <h6>YouTube</h6>
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowYTStreams" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowYTStreams">Live Streams</label>
                  </div>
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowYTShorts" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowYTShorts">Shorts</label>
                  </div>
                  <div class="form-check form-switch mb-3">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowYTVideos" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowYTVideos">Videos</label>
                  </div>

                  <h6>Vimeo</h6>
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="allowVimeoVideos" onchange="saveSettings()" checked />
                    <label class="form-check-label" for="allowVimeoVideos">Videos</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-3">
          <div class="card-header"><i class="material-icons notranslate">settings</i>Playlist limits</div>
          <div class="card-body">
            <div class="input-group">
              <span class="input-group-text"><i class="material-icons notranslate">schedule</i>Max playlist duration</span>
              <input type="number" aria-label="Max playlist duration" id="maxDuration" placeholder="Unlimited" min="1" class="form-control" onchange="saveSettings()" />
              <select class="form-select" id="maxDurationUnit" onchange="saveSettings()">
                <option selected value="m">Minutes</option>
                <option value="h">Hours</option>
              </select>
            </div>
            <small class="form-text text-body-secondary">The max duration of all videos/songs added up</small>

            <div class="input-group mt-3">
              <span class="input-group-text"><i class="material-icons notranslate">timelapse</i>Max song/video length</span>
              <input type="number" aria-label="Max song/video length" id="maxLength" placeholder="Unlimited" min="1" class="form-control" onchange="saveSettings()" />
              <span class="input-group-text">Minutes</span>
            </div>
            <small class="form-text text-body-secondary">How long a single video/song can be</small>

            <div class="input-group mt-3">
              <span class="input-group-text"><i class="material-icons notranslate">format_list_numbered</i>Max playlist size</span>
              <input type="number" aria-label="Max playlist length" id="maxSize" placeholder="Unlimited" min="1" class="form-control" onchange="saveSettings()" />
            </div>
            <small class="form-text text-body-secondary">How many videos/songs are allowed to be in the playlist</small>

            <div class="input-group mt-3">
              <span class="input-group-text"><i class="material-icons notranslate">visibility</i>Minimum view count</span>
              <input type="number" aria-label="Minimum view count" id="minViewCount" placeholder="Unlimited" min="1" class="form-control" onchange="saveSettings()" />
            </div>
            <small class="form-text text-body-secondary"> Videos/songs that have a view count lower than the limit will be blocked </small>
            <br /><span class="text-warning"
              >See <span class="cursor-pointer text-info" data-bs-toggle="modal" data-bs-target="#platformsInfoModal">Platform support details</span> for info about which platforms work with
              these filters</span
            >

            <br />
            <div class="form-check form-switch mt-3">
              <input class="form-check-input" type="checkbox" role="switch" id="uniqueOnly" onchange="saveSettings()" />
              <label class="form-check-label" for="uniqueOnly"><i class="material-icons notranslate">history_toggle_off</i>Skip non unique videos/songs</label>
              <br />
              <small class="text-body-secondary">
                Any video/song found in the <span class="text-primary"><i class="material-icons notranslate">history</i>History</span> tab will be skipped
              </small>
            </div>
          </div>
        </div>

        <div class="card mb-3">
          <div class="card-header"><i class="material-icons notranslate">chat</i>Chat Commands</div>
          <div class="card-body">
            <div class="input-group">
              <span class="input-group-text">Request</span>
              <input
                type="text"
                id="requestCommand"
                data-default="!request"
                value="!request"
                aria-label="Request command"
                placeholder="command"
                class="form-control"
                onchange="saveSettings()"
              />
              <input
                type="text"
                id="requestCommandAlias"
                data-default="!r"
                value="!r"
                aria-label="Request command alias"
                placeholder="alias"
                class="form-control"
                onchange="saveSettings()"
              />
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" id="noCommand" onchange="saveSettings()" />
              <label class="form-check-label" for="noCommand"><i class="material-icons notranslate">link</i>Allow requests without a command</label>
            </div>

            <div class="form-check form-switch mt-5">
              <input class="form-check-input" type="checkbox" role="switch" id="allowVoteSkip" onchange="saveSettings()" />
              <label class="form-check-label" for="allowVoteSkip"><i class="material-icons notranslate">how_to_vote</i>Allow viewers to vote skip</label>
            </div>
            <div class="input-group mb-1">
              <span class="input-group-text">Vote Skip command</span>
              <input
                type="text"
                id="voteskipCommand"
                data-default="!voteskip"
                value="!voteskip"
                aria-label="vote skip command"
                placeholder="command"
                class="form-control"
                onchange="saveSettings()"
              />
              <input
                type="text"
                id="voteskipCommandAlias"
                data-default="!vs"
                value="!vs"
                aria-label="vote skip command alias"
                placeholder="alias"
                class="form-control"
                onchange="saveSettings()"
              />
            </div>
            <div class="input-group mb-5">
              <span class="input-group-text">Skip after</span>
              <input type="number" aria-label="vote skip votes needed" id="voteskipCount" placeholder="100" value="100" min="1" class="form-control" onchange="saveSettings()" />
              <span class="input-group-text">votes</span>
            </div>

            <div class="form-check form-switch mb-3">
              <input class="form-check-input" type="checkbox" role="switch" id="enableBot" onchange="saveSettings()" />
              <label class="form-check-label" for="enableBot"><i class="material-icons notranslate">smart_toy</i>Enable chat bot</label>
              <br />
              <small class="text-body-secondary">
                Enables the bot commands below and adds confirmation replies for some commands - Make sure to mod the bot (@chatvote) so that it can post links without getting timed out by
                other bots
              </small>
            </div>
            <div class="input-group mb-3">
              <span class="input-group-text">Bot commands cooldown</span>
              <input type="number" aria-label="Bot commands cooldown" id="botCooldown" placeholder="1" value="1" min="1" class="form-control" onchange="saveSettings()" />
              <span class="input-group-text">seconds</span>
            </div>
            <h6>Bot Commands</h6>
            <div class="input-group mb-3">
              <span class="input-group-text">Song/video name & link</span>
              <input type="text" id="songCommand" data-default="!song" value="!song" aria-label="Song name command" placeholder="command" class="form-control" onchange="saveSettings()" />
              <input
                type="text"
                id="songCommandAlias"
                data-default="!video"
                value="!video"
                aria-label="Song name command alias"
                placeholder="alias"
                class="form-control"
                onchange="saveSettings()"
              />
            </div>
            <div class="input-group mb-3">
              <span class="input-group-text">Playlist link</span>
              <input
                type="text"
                id="playlistCommand"
                data-default="!playlist"
                value="!playlist"
                aria-label="Playlist command"
                placeholder="command"
                class="form-control"
                onchange="saveSettings()"
              />
              <input
                type="text"
                id="playlistCommandAlias"
                data-default="!pl"
                value="!pl"
                aria-label="Playlist command alias"
                placeholder="alias"
                class="form-control"
                onchange="saveSettings()"
              />
            </div>
          </div>
        </div>

        <div class="card mb-3">
          <div class="card-header"><i class="material-icons notranslate">group</i>Who can send requests</div>
          <div class="card-body">
            <p id="whoCanRequest">Everyone will be able to request.<br />Everyone will get 1 request.</p>
            <table class="table table-hover">
              <thead>
                <tr>
                  <th scope="col">Role</th>
                  <th scope="col" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="How many requests each user can make based on the highest role limit they have">
                    Request limit
                  </th>
                </tr>
              </thead>
              <tbody class="table-group-divider">
                <tr>
                  <th scope="row">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" role="switch" id="allowPlebs" onchange="saveSettings()" checked />
                      <label class="form-check-label" for="allowPlebs">Non subscriber</label>
                    </div>
                  </th>
                  <td>
                    <input type="number" class="form-control request-limit" id="plebLimit" onchange="saveSettings()" value="1" min="1" placeholder="Unlimited" />
                  </td>
                </tr>
                <tr>
                  <th scope="row">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" role="switch" id="allowSubs" onchange="saveSettings()" checked />
                      <label class="form-check-label" for="allowSubs">Subscriber</label>
                    </div>
                  </th>
                  <td>
                    <input type="number" class="form-control request-limit" id="subLimit" onchange="saveSettings()" value="1" min="1" placeholder="Unlimited" />
                  </td>
                </tr>

                <tr>
                  <th scope="row">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" role="switch" id="allowMods" onchange="saveSettings()" checked />
                      <label class="form-check-label" for="allowMods">Mod</label>
                    </div>
                  </th>
                  <td>
                    <input type="number" class="form-control request-limit" id="modLimit" onchange="saveSettings()" value="1" min="1" placeholder="Unlimited" />
                  </td>
                </tr>
                <tr>
                  <th scope="row">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" role="switch" id="allowVips" onchange="saveSettings()" checked />
                      <label class="form-check-label" for="allowVips">VIP</label>
                    </div>
                  </th>
                  <td>
                    <input type="number" class="form-control request-limit" id="vipLimit" onchange="saveSettings()" value="1" min="1" placeholder="Unlimited" />
                  </td>
                </tr>
                <tr>
                  <th scope="row">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" role="switch" id="allowFirstTimeChatters" onchange="saveSettings()" checked />
                      <label class="form-check-label" for="allowFirstTimeChatters">First time chatter</label>
                    </div>
                  </th>
                  <td>
                    <input type="number" class="form-control request-limit" id="firstTimeChatterLimit" onchange="saveSettings()" value="1" min="1" placeholder="Unlimited" />
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="btn-group" role="group" aria-label="Check all/Uncheck all">
              <button type="button" id="selectAll" class="btn btn-sm btn-success">Select all</button>
              <button type="button" id="unselectAll" class="btn btn-sm btn-danger">Unselect all</button>
            </div>
          </div>
        </div>

        <div class="card mb-3">
          <div class="card-header"><i class="material-icons notranslate">shield</i>Moderation Settings</div>
          <div class="card-body">
            <button type="button" class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#banlistModal"><i class="material-icons notranslate">gavel</i>Ban list</button>

            <div class="form-check form-switch mb-3" style="display: none">
              <input disabled class="form-check-input" type="checkbox" role="switch" id="approvalQueue" />
              <label class="form-check-label" for="approvalQueue"><i class="material-icons notranslate">rule</i>Approval queue</label>
              <br /><small class="form-text text-body-secondary">Requests will have to be manually approved by you before they get added to the playlist</small>
            </div>

            <h6>Moderation Commands</h6>
            <div class="input-group mb-1">
              <span class="input-group-text">Open playlist</span>
              <input
                type="text"
                id="openCommand"
                data-default="!open"
                value="!open"
                aria-label="Open playlist command"
                placeholder="Open playlist command"
                class="form-control"
                onchange="saveSettings()"
              />
            </div>
            <div class="input-group mb-1">
              <span class="input-group-text">Close playlist</span>
              <input
                type="text"
                id="closeCommand"
                data-default="!close"
                value="!close"
                aria-label="Close playlist command"
                placeholder="Close playlist command"
                class="form-control"
                onchange="saveSettings()"
              />
            </div>
            <div class="input-group mb-1">
              <span class="input-group-text">Play current video/song</span>
              <input type="text" id="playCommand" data-default="!play" value="!play" aria-label="Play command" placeholder="Play command" class="form-control" onchange="saveSettings()" />
            </div>
            <div class="input-group mb-1">
              <span class="input-group-text">Pause current video/song</span>
              <input
                type="text"
                id="pauseCommand"
                data-default="!pause"
                value="!pause"
                aria-label="Pause command"
                placeholder="Pause command"
                class="form-control"
                onchange="saveSettings()"
              />
            </div>
            <div class="input-group mb-1">
              <span class="input-group-text">Toggle autoplay</span>
              <input
                type="text"
                id="autoplayCommand"
                data-default="!autoplay"
                value="!autoplay"
                aria-label="Autoplay command"
                placeholder="Autoplay command"
                class="form-control"
                onchange="saveSettings()"
              />
            </div>
            <div class="input-group mb-1">
              <span class="input-group-text">Skip current video/song</span>
              <input type="text" id="skipCommand" data-default="!skip" value="!skip" aria-label="Skip command" placeholder="Skip command" class="form-control" onchange="saveSettings()" />
            </div>
            <div class="input-group mb-1">
              <span class="input-group-text">Go back to previous video/song</span>
              <input
                type="text"
                id="rewindCommand"
                data-default="!rewind"
                value="!rewind"
                aria-label="Rewind command"
                placeholder="Rewind command"
                class="form-control"
                onchange="saveSettings()"
              />
            </div>
            <div class="input-group mb-1">
              <span class="input-group-text">
                Delete request by ID
                <i
                  class="material-icons notranslate cursor-pointer"
                  data-bs-toggle="tooltip"
                  data-bs-placement="top"
                  data-bs-title="Mods will be able to delete requests by copying the command from your playlist.chat.vote/username page"
                  >info
                </i>
              </span>
              <input
                type="text"
                id="deleteCommand"
                data-default="!delete"
                value="!delete"
                aria-label="Delete command"
                placeholder="Delete command"
                class="form-control"
                onchange="saveSettings()"
              />
            </div>
            <div class="form-check form-switch mb-3">
              <input class="form-check-input" type="checkbox" role="switch" id="modCommands" onchange="saveSettings()" checked />
              <label class="form-check-label" for="modCommands"><i class="material-icons notranslate">verified_user</i>Allow mods to use moderation commands</label>
            </div>

            <small class="text-body-secondary">
              <i class="material-icons notranslate">lightbulb</i> Tip: Mods can delete a request by
              <a class="link-body-emphasis" href="https://twitter.com/TwitchSupport/status/1070135668980871168" target="_blank" rel="noopener noreferrer">
                deleteing the request message in chat
              </a>
            </small>
          </div>
        </div>

        <div class="input-group">
          <button class="btn btn-outline-danger" type="button" data-bs-toggle="modal" data-bs-target="#resetSettingsModal">
            <i class="material-icons notranslate">restart_alt</i>Reset settings
          </button>
        </div>
      </div>
    </div>

    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a
          class="navbar-brand notranslate site-link"
          href="/home/"
          target="_self"
          rel="noopener noreferrer"
          data-bs-toggle="tooltip"
          data-bs-delay="200"
          data-bs-placement="bottom"
          data-bs-title="Home page"
        >
          <img src="/pics/donk.png" alt="logo" style="height: 24px; width: 24px" class="d-inline-block align-top" />
        </a>
        <a class="navbar-brand notranslate site-link" href="/playlist/" target="_self" rel="noopener noreferrer"> chat.vote Playlist <span class="text-danger">BETA</span></a>

        <div class="collapse navbar-collapse">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a
                class="nav-link site-link"
                data-bs-toggle="tooltip"
                data-bs-delay="200"
                data-bs-placement="bottom"
                data-bs-title="Polls that you vote on by typing in Twitch chat"
                target="_self"
                rel="noopener noreferrer"
                href="/"
              >
                <img style="height: 1.2em; filter: invert(0.25)" id="twitchLogo" alt="twitch" src="/pics/twitch.png" /> Twitch chat polls
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link site-link"
                data-bs-toggle="tooltip"
                data-bs-delay="200"
                data-bs-placement="bottom"
                data-bs-title="Straw polls with shareable links"
                target="_self"
                rel="noopener noreferrer"
                href="/poll/"
              >
                <i class="material-icons notranslate">how_to_vote</i>Polls
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link site-link"
                data-bs-toggle="tooltip"
                data-bs-delay="200"
                data-bs-placement="bottom"
                data-bs-title="Mini games with chat interaction"
                target="_self"
                rel="noopener noreferrer"
                href="/games/"
              >
                <i class="material-icons notranslate">videogame_asset</i> Games
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link site-link"
                data-bs-toggle="tooltip"
                data-bs-delay="200"
                data-bs-placement="bottom"
                data-bs-title="Twitch chat raffles"
                target="_self"
                rel="noopener noreferrer"
                href="/raffles/"
              >
                <i class="material-icons notranslate">local_activity</i> Raffles
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link site-link"
                data-bs-toggle="tooltip"
                data-bs-delay="200"
                data-bs-placement="bottom"
                data-bs-title="Brackets, (tier)Lists & Trivia"
                target="_self"
                rel="noopener noreferrer"
                href="/blt/"
              >
                <i class="material-icons notranslate">breakfast_dining</i> BLT
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link site-link active"
                data-bs-toggle="tooltip"
                data-bs-delay="200"
                data-bs-placement="bottom"
                data-bs-title="Song & video requests"
                aria-current="page"
                target="_self"
                rel="noopener noreferrer"
                href="/playlist/"
              >
                <i class="material-icons notranslate">queue_music</i> Playlist
              </a>
            </li>
          </ul>
          <div class="mx-auto d-inline-flex">
            <div id="status" style="margin-top: 5px">
              <h4><span class="badge bg-danger">Not connected :(</span></h4>
            </div>
          </div>
        </div>

        <div id="topRight" class="navbar-nav">
          <div class="btn-group" role="group" aria-label="login options">
            <a
              role="button"
              id="loginButton"
              onclick="login()"
              class="btn btn-twitch"
              tabindex="0"
              data-bs-container="body"
              data-bs-placement="bottom"
              data-bs-trigger="manual"
              data-bs-toggle="popover"
              data-bs-title="Not signed in"
              data-bs-content="You need sign in first"
              ><span class="twitch-icon"></span>Sign in with Twitch
            </a>
            <div class="btn-group" role="group">
              <button
                id="btnGroupDropLogin"
                type="button"
                class="btn btn-twitch dropdown-toggle"
                data-bs-toggle="dropdown"
                data-bs-auto-close="outside"
                aria-label="other login option, connect manually"
                aria-expanded="false"
              ></button>
              <div class="dropdown-menu dropdown-menu-end" aria-labelledby="btnGroupDropLogin">
                <div class="p-3" style="width: 300px">
                  <label for="channelName" class="form-label">Connect to chat directly</label>
                  <div class="input-group mb-3">
                    <span class="input-group-text" id="directLoginChannel">twitch.tv/</span>
                    <input type="text" class="form-control" id="channelName" aria-describedby="directLoginChannel" />
                  </div>
                  <small class="text-body-secondary">Some features will not be available if you connect directly</small><br />
                  <button type="button" onclick="connect()" class="btn btn-primary float-end">Connect</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="navbar-nav">
          <div id="theme-label-container">
            <label id="theme-label">
              <input id="darkTheme" type="checkbox" checked />
              <div class="planet"></div>
              <div class="theme-elements">
                <svg version="1.1" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="250" cy="250" r="200" />
                </svg>
                <svg version="1.1" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="250" cy="250" r="200" />
                </svg>
                <svg version="1.1" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="250" cy="250" r="200" />
                </svg>
                <svg version="1.1" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="250" cy="250" r="200" />
                </svg>
                <svg version="1.1" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="250" cy="250" r="200" />
                </svg>
                <svg version="1.1" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="250" cy="250" r="200" />
                </svg>
                <svg version="1.1" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="250" cy="250" r="200" />
                </svg>
                <svg version="1.1" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="250" cy="250" r="200" />
                </svg>
              </div>
            </label>
          </div>
        </div>
      </div>
    </nav>

    <div aria-live="polite" aria-atomic="true" class="position-relative">
      <div id="toastContainer" class="toast-container"></div>
    </div>

    <div class="container-fluid">
      <div class="row" id="mainRow">
        <div class="col p-0 m-2">
          <div class="card" id="playersCard">
            <div class="card-body p-0">
              <h1 id="placeholder" class="display-1">
                Nothing here :)<br />
                <span id="commandHint2">
                  Request something using<br />
                  <kbd class="notranslate text-success cursor-pointer" onclick="editRequestCommand()">!request [link]</kbd> or
                  <kbd class="notranslate text-success cursor-pointer" onclick="editRequestCommand(true)">!r [link]</kbd>
                </span>
              </h1>
              <div id="youtubeEmbedContainer" style="display: none"><div id="youtubeEmbed"></div></div>
              <div id="vimeoEmbedContainer" style="display: none"><div id="vimeoEmbed"></div></div>
              <div id="spotifyEmbedContainer" style="display: none"><div id="spotifyEmbed"></div></div>
              <div id="twitchEmbed" style="display: none"></div>
              <div id="twitchClipsEmbed" style="display: none" height="100%" width="100%"></div>
              <div id="tiktokEmbed" style="display: none" height="100%" width="100%"></div>
              <video id="videoEmbed" style="display: none" controls autoplay></video>
            </div>
          </div>
        </div>

        <div class="col-auto p-0 m-2" id="rightCol">
          <div class="card">
            <div class="card-body p-1">
              <h4 class="m-0" id="commandHint">
                Add songs or videos to the playlist using <kbd class="notranslate text-success cursor-pointer">!request [link]</kbd> or
                <kbd class="notranslate text-success cursor-pointer">!r [link]</kbd>
              </h4>
              <div class="input-group mt-3">
                <input type="text" id="link" class="form-control" placeholder="Link" aria-label="Add link input text field" aria-describedby="addLink" />
                <button class="btn btn-secondary" type="button" id="addLink" onclick="addLink()" title="Or just press enter :)">Add</button>
              </div>
            </div>
          </div>

          <div class="card mt-3" id="playlist">
            <div class="card-body">
              <ul class="nav nav-tabs bg-body-tertiary" id="playlistTabs" role="tablist">
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link active"
                    id="playlistTab"
                    data-bs-toggle="tab"
                    data-bs-target="#playlist-tab-pane"
                    type="button"
                    role="tab"
                    aria-controls="playlist-tab-pane"
                    aria-selected="true"
                  >
                    <i class="material-icons notranslate">format_list_numbered</i>Playlist
                  </button>
                </li>
                <li class="nav-item" role="presentation" id="approvalTabButton" style="display: none">
                  <button
                    class="nav-link"
                    id="approvalTab"
                    data-bs-toggle="tab"
                    data-bs-target="#approval-tab-pane"
                    type="button"
                    role="tab"
                    aria-controls="approval-tab-pane"
                    aria-selected="false"
                  >
                    <i class="material-icons notranslate">rule</i>Approval queue
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    id="historyTab"
                    data-bs-toggle="tab"
                    data-bs-target="#history-tab-pane"
                    type="button"
                    role="tab"
                    aria-controls="history-tab-pane"
                    aria-selected="false"
                  >
                    <i class="material-icons notranslate">history</i>History
                  </button>
                </li>
              </ul>
              <div class="tab-content">
                <div class="tab-pane fade show active" id="playlist-tab-pane" role="tabpanel" aria-labelledby="playlistTab" tabindex="0">
                  <div class="mt-2" id="mainList"></div>
                </div>
                <div class="tab-pane fade" id="approval-tab-pane" role="tabpanel" aria-labelledby="approvalTab" tabindex="0">
                  <ul class="list-group mt-1" id="approvalList">
                    <li class="list-group-item">An item</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                    <li class="list-group-item">A fourth item</li>
                    <li class="list-group-item">And a fifth one</li>
                    <li class="list-group-item">An item</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                    <li class="list-group-item">A fourth item</li>
                    <li class="list-group-item">And a fifth one</li>
                    <li class="list-group-item">An item</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                    <li class="list-group-item">A fourth item</li>
                    <li class="list-group-item">And a fifth one</li>
                    <li class="list-group-item">An item</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                    <li class="list-group-item">A fourth item</li>
                    <li class="list-group-item">And a fifth one</li>
                    <li class="list-group-item">An item</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                    <li class="list-group-item">A fourth item</li>
                    <li class="list-group-item">And a fifth one</li>
                    <li class="list-group-item">An item</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                    <li class="list-group-item">A fourth item</li>
                    <li class="list-group-item">And a fifth one</li>
                  </ul>
                </div>
                <div class="tab-pane fade" id="history-tab-pane" role="tabpanel" aria-labelledby="historyTab" tabindex="0">
                  <button class="btn btn-outline-warning mt-2" type="button" data-bs-toggle="modal" data-bs-target="#clearHistoryModal">
                    <i class="material-icons notranslate">delete_forever</i>Clear history (<span id="historyCount">0 items</span>)
                  </button>
                  <div class="mt-2" id="historyList"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row fixed-bottom bg-body-tertiary" id="bottomRow">
        <div class="col">
          <div class="hstack gap-2">
            <div class="p-1">
              <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#settingsOffcanvas" aria-controls="settingsOffcanvas">
                <i class="material-icons notranslate">settings</i> Settings
              </button>
            </div>

            <div class="vr"></div>

            <div class="p-1">
              <div class="input-group">
                <input disabled type="text" class="form-control" id="profileLink" value="playlist.chat.vote/username" />
                <button
                  type="button"
                  id="copyLinkButton"
                  onclick="copyLink()"
                  class="btn btn-outline-secondary"
                  data-bs-toggle="popover"
                  data-bs-trigger="manual"
                  data-bs-placement="top"
                  data-bs-content="Link copied :)"
                >
                  <i class="material-icons notranslate">content_copy</i>
                </button>
              </div>
            </div>

            <div class="vr"></div>

            <div class="hstack gap-3 me-auto">
              <div>
                <small class="bottomBarLabel">Now playing</small>
                <br />
                <span id="nowPlaying"><span class="text-body-secondary">Nothing :)</span></span>
              </div>

              <div>
                <small class="bottomBarLabel">Requested by</small>
                <br />
                <span id="nowPlayingRequester"><span class="text-body-secondary">No one :)</span></span>
              </div>

              <div id="nowPlayingInfo"></div>

              <div id="nowPlayingBanButtons"></div>
            </div>

            <div class="vr"></div>

            <div>
              <small class="bottomBarLabel">Playlist length</small><br />
              <span id="playlistLength">00:00 (0 items)</span>
            </div>

            <div class="vr"></div>

            <div class="p-1">
              <a
                id="clearPlaylistPopover"
                tabindex="0"
                class="btn btn-outline-warning"
                role="button"
                data-bs-toggle="popover"
                data-bs-title="Are you sure?"
                data-bs-content='All videos/songs will be removed from the playlist including the current playing video <br>
                <button type="button" class="btn btn-danger float-end mb-3" onclick="clearPlaylist()"><i class="material-icons notranslate">delete_forever</i>Clear</button>'
              >
                <i class="material-icons notranslate">delete_forever</i>Clear playlist
              </a>

              <button
                type="button"
                id="togglePlaylist"
                onclick="togglePlaylist()"
                class="btn btn-success"
                data-bs-container="body"
                data-bs-trigger="manual"
                data-bs-placement="top"
                data-bs-toggle="popover"
                data-bs-title="Playlist closed"
                data-bs-content="A viewer is trying to request something but the playlist is closed"
              >
                Open Playlist
              </button>
            </div>

            <div class="vr"></div>

            <div>
              <label class="bottomBarLabel" for="autoplay"><i class="material-icons notranslate">playlist_play</i>Autoplay</label><br />
              <div class="form-check form-switch ms-4">
                <input class="form-check-input" type="checkbox" role="switch" id="autoplay" onchange="saveSettings()" checked />
              </div>
            </div>

            <div class="p-1">
              <div class="btn-group" role="group" aria-label="Playback controls">
                <button type="button" class="btn btn-secondary" onclick="previousItem()"><i class="material-icons notranslate">skip_previous</i></button>
                <button type="button" class="btn btn-secondary" onclick="nextItem()"><i class="material-icons notranslate">skip_next</i></button>
              </div>
            </div>
            <div class="p-1" style="display: none">
              <div class="hstack gap-1">
                <i class="material-icons notranslate cursor-pointer" id="volumeSliderIcon" onclick="toggleMute()">volume_up</i>
                <input type="range" class="form-range" min="0" value="50" max="100" id="volumeSlider" oninput="changeVolume(this)" />
                <span id="volumeSliderValue">50</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="/js/localforage.min.js"></script>
    <script src="/js/tmi.min.js"></script>
    <script src="/js/anime.iife.min.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script src="/js/functions.min.js"></script>
    <script src="/playlist/playlist.js"></script>
    <script src="https://player.twitch.tv/js/embed/v1.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="https://open.spotify.com/embed/iframe-api/v1"></script>
    <script src="https://player.vimeo.com/api/player.js"></script>
  </body>
</html>
